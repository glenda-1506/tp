@startuml
actor User
participant Duke
participant CategoryManager
participant TrackerData
participant Category

User -> Duke : "add-category [categoryName]"
activate Duke

alt Category does not already exist
    Duke -> CategoryManager : addCategory(TrackerData, categoryName)
    activate CategoryManager
    CategoryManager -> TrackerData : getCategories()
    activate TrackerData
    TrackerData --> CategoryManager : List<Category>
    deactivate TrackerData

    CategoryManager -> CategoryManager : formatInput(categoryName)
    activate CategoryManager
    CategoryManager --> CategoryManager : formattedCategoryName
    deactivate CategoryManager

    CategoryManager -> Category : Category(formattedCategoryName)
    activate Category
    Category --> CategoryManager : Category object
    deactivate Category

    CategoryManager -> TrackerData : setCategories(updatedCategories)
    activate TrackerData
    TrackerData --> CategoryManager
    deactivate TrackerData

    CategoryManager --> Duke
    deactivate CategoryManager
    Duke --> User : "Category added successfully"
else Category already exists
    Duke --> User : "Category already exists."
end
deactivate Duke

@enduml